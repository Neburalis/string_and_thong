# string_and_thong

## Overview
`string_and_thong` предоставляет компактные аналоги стандартных функций `<string.h>`, работающие с легковесной структурой `mystr::mystr_t`. Структура хранит указатель на C-строку, её длину и кеш djb2-хэша, поэтому операции не пересчитывают длину и хэш каждый раз.

## Возможности
- Создание и дублирование строк (`construct`, `dupe`, `dupe_concat`, `mult`)
- Поиск и сравнение (`find_char`, `find_any`, `comp`, `ncomp`, `find_str`)
- Копирование и конкатенация (`copy`, `ncopy`, `concat`, `nconcat`)
- Работа с потоками (`fget`, `fnget`, `getline`) с автоматическим ростом буфера
- Подсчёт/замена символов и навигация по строке (`count_needle_in_haystack`, `replace_needle_in_haystack`, функции `move_ptr_*`)
- Быстрые хэши (`djb2`, `sdbm`) на основе внутренних данных структуры

## Советы по использованию
- `mystr_t` не владеет памятью по умолчанию. Выделяйте/освобождайте буферы вручную либо применяйте функции, которые возвращают новые выделенные строки.
- После модификации буфера обновляйте поле `len` и вызывайте `djb2`, либо используйте готовые функции библиотеки, которые делают это автоматически.
- Хэш `0` считается poison-значением и сигнализирует, что структура не содержит валидную строку (полезно, например, при работе с хеш-таблицами).
- Для максимальной скорости используйте стандартные функции `<string.h>` там, где API принимает `mystr_t` и доступен базовый указатель на строку.

